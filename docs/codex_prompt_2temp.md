# Koedeam ドッグフーディング所感まとめ（第1フェーズ）

## 0. 前提

* Undo/Redo 未実装
* 音声認識しきい値パラメータ導入済
* `lang: ja` 指定あり
* continuous 未UI制御（内部固定）

---

# 1. 構造的な問題（概念レイヤー）

## 1.1 チャンク概念の不明瞭さ

### 課題

* 「チャンク」の存在意義が直感的でない
* 操作単位としてわかりづらい
* 候補表示との関係も曖昧
* 候補選択機能が正しく実装されているか不透明

### 仮説

* チャンクは内部構造であり、UI概念として露出しすぎている可能性
* 音声主軸ツールとしては「文単位」の方が自然かもしれない
* そもそも候補表示自体が不要な可能性もある

### 対応検討

* チャンクUI露出を再検討
* 候補表示機能の存在意義を再評価
* 必要なら「チャンク廃止」も選択肢に含める

---

# 2. 編集操作まわり

## 2.1 編集ツール不足

### 追加希望

* 行削除
* 段落削除

→ 編集ツールバーへ追加

---

## 2.2 範囲選択UX

### 現状問題

* 範囲を上下拡張してもスクロール追随しない

### 改善要望

* 範囲拡張時に自動スクロール

### 機能追加

* 「最初まで選択」
* 「最後まで選択」

---

# 3. 設定ダイアログ再設計

## 3.1 ツールバー部

* 折り返し（ラップ）しないようにする

## 3.2 再分類案

以下カテゴリへ整理：

* 音声
* 表示
* 編集
* テンプレ
* 共有
* その他

---

# 4. ハンバーガーメニュー設計方針

## 要件

* 音声入力位置トグル以外
* ツールバーから設定可能な機能は
  → すべてメニューから辿れるようにする

### 方針

ツールバー = ショートカット
ハンバーガー = フル機能導線

---

# 5. 音声入力挿入位置

## 現状

* ON/OFF切替が存在

## 要望

* 「オフ」は不要
* 挿入位置は常に何らかの明示的モードにすべき

---

# 6. ヘッダインジケータ再定義

現状、意味が曖昧。

## 再設計必要

ヘッダは：

* 音声状態
* モード状態
* 編集状態

の可視化専用領域とするべき。

---

# 7. 音声認識品質の違和感

## 7.1 体感

* 認識しきい値導入後、精度が落ちた気がする
* `lang: ja` が悪さしている可能性

## 7.2 仮説

### しきい値影響

* 小声欠落
* 語尾消失
* 途中停止
* 文が短くなる

### lang固定影響

* 外来語崩れ
* 固有名詞弱化
* multilingualより不安定な可能性

### 組み合わせ悪化

* threshold × lang 固定 の相乗悪化

---

## 7.3 切り分けテスト案

同一音声で以下比較：

1. threshold OFF + lang auto
2. threshold ON + lang auto
3. threshold OFF + lang ja
4. threshold ON + lang ja

評価観点：

* 文字数
* 欠落率
* 語尾消失
* 停止頻度

---

# 8. recognition.continuous 切替要望

## 8.1 要件

* UIから continuous 切替可能にする
* 稼働中変更時は stop→start 再起動
* continuous=true 時は onend 自動再開制御

## 8.2 モード提案

### 散歩モード

* continuous = true
* しきい値低め
* onend自動再開

### 確定モード

* continuous = false
* しきい値標準
* onend再開なし

---

# 9. 全体的な印象（設計レイヤー視点）

* 機能不足より「概念整理不足」
* 状態モデルが曖昧
* UI状態と編集状態が未分離
* Undo未実装により安心感不足
* チャンクが中途半端な抽象度で露出

---

# 10. 優先度（暫定）

### 高

* continuous切替
* しきい値検証
* 範囲選択スクロール追随
* 編集削除系追加

### 中

* 設定再分類
* ヘッダ再定義

### 大設計検討

* チャンク概念の存廃
* 候補表示の是非

